<div class="user-settings-container">
  

  <main class="settings-content">
    <form
      [formGroup]="contactForm"
      (ngSubmit)="handleSaveChanges()"
      class="full-form"
    >
      <div class="form-header-new">
        <h2 class="form-title">Contact Info</h2>
        <button
          type="submit"
          class="save-btn"
          (click)="handleSaveChanges()"
        >
          <img src="assets/Icons/lucide/save.svg" alt="Save" class="save-Icon" />
          Save Changes
          <app-loader-btn
            [active]="loading && loadingButton === 'save'"
          ></app-loader-btn>
        </button>
      </div>

      <div class="info-card">
        <div class="form-row">
          <div class="form-group">
            <label>First Name <span class="required">*</span></label>
            <input class="form-input" formControlName="firstName" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('firstName')?.touched &&
                contactForm.get('firstName')?.invalid
              "
            >
              First Name is required
            </div>
          </div>

          <div class="form-group">
            <label>Last Name <span class="required">*</span></label>
            <input class="form-input" formControlName="lastName" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('lastName')?.touched &&
                contactForm.get('lastName')?.invalid
              "
            >
              Last Name is required
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Email <span class="required">*</span></label>
            <input type="email" class="form-input" formControlName="email" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('email')?.touched &&
                contactForm.get('email')?.invalid
              "
            >
              Enter a valid email address
            </div>
          </div>

          <div class="form-group">
            <label>Phone Number <span class="required">*</span></label>
            <input class="form-input" formControlName="phoneNumber" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('phoneNumber')?.touched &&
                contactForm.get('phoneNumber')?.invalid
              "
            >
              Enter a valid 10-digit phone number
            </div>
          </div>
        </div>
      </div>
      <div class="card-spacing"></div>
      <div class="info-card">
        <div class="form-row">
          <div class="form-group">
            <label>Address <span class="required">*</span></label>
            <input class="form-input" formControlName="address" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('address')?.touched &&
                contactForm.get('address')?.invalid
              "
            >
              Address is required
            </div>
          </div>

          <div class="form-group">
            <label>City <span class="required">*</span></label>
            <div class="select-wrapper">
              <select class="form-select" formControlName="city">
                <option *ngFor="let city of cities" [value]="city">{{ city }}</option>
              </select>
              <img src="assets/Icons/dropdown-arrow.svg" alt="dropdown arrow" class="dropdown-arrow-icon" />
            </div>
            <div
              class="error-message"
              *ngIf="
                contactForm.get('city')?.touched &&
                contactForm.get('city')?.invalid
              "
            >
              City is required
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Province <span class="required">*</span></label>
            <div class="select-wrapper">
              <select class="form-select" formControlName="province">
                <option *ngFor="let province of provinces" [value]="province">{{ province }}</option>
              </select>
              <img src="assets/Icons/dropdown-arrow.svg" alt="dropdown arrow" class="dropdown-arrow-icon" />
            </div>
            <div
              class="error-message"
              *ngIf="
                contactForm.get('province')?.touched &&
                contactForm.get('province')?.invalid
              "
            >
              Province is required
            </div>
          </div>

          <div class="form-group">
            <label>Postal Code <span class="required">*</span></label>
            <input class="form-input" formControlName="postalCode" />
            <div
              class="error-message"
              *ngIf="
                contactForm.get('postalCode')?.touched &&
                contactForm.get('postalCode')?.invalid
              "
            >
              Enter a valid postal code
            </div>
          </div>
        </div>
      </div>
    </form>
  </main>
</div>
