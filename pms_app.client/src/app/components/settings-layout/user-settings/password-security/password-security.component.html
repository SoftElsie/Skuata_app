<div class="page-container">
  <!-- Header section (outside card) -->
  <div class="content-header">
    <h1 class="title">Password & Security</h1>
    <button class="save-btn" type="submit" form="passwordForm" [disabled]="passwordForm.invalid">
      <img src="assets/Icons/save.svg" alt="Save" class="save-Icon" />
      Save  Changes
      <app-loader-btn [active]="loading && loadingButton === 'save'"></app-loader-btn>
    </button>
  </div>

  <!-- Card section -->
  <div class="settings-container">
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" id="passwordForm">
      
      <!-- Current + New Password side by side -->
      <div class="two-columns">
        <div class="form-group">
          <label for="currentPassword">Current Password <span class="required">*</span></label>
          <input id="currentPassword" type="password" formControlName="currentPassword" />
          <div *ngIf="f['currentPassword'].touched && f['currentPassword'].errors" class="error">
            <span *ngIf="f['currentPassword'].errors?.['required']">Current password is required</span>
          </div>
        </div>

        <div class="form-group">
          <label for="newPassword">New Password <span class="required">*</span></label>
          <input id="newPassword" type="password" formControlName="newPassword" />
          <div *ngIf="f['newPassword'].touched && f['newPassword'].errors" class="error">
            <span *ngIf="f['newPassword'].errors?.['required']">New password is required</span>
            <span *ngIf="f['newPassword'].errors?.['minlength']">Must be at least 8 characters</span>
            <span *ngIf="f['newPassword'].errors?.['pattern']">Must include letters, numbers & special characters</span>
          </div>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="form-group confirm-group">
        <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" />
        <div *ngIf="f['confirmPassword'].touched && f['confirmPassword'].errors" class="error">
          <span *ngIf="f['confirmPassword'].errors?.['required']">Confirm password is required</span>
        </div>
        <div *ngIf="passwordForm.errors?.['mismatch'] && f['confirmPassword'].touched" class="error">
          <span>Passwords do not match</span>
        </div>
      </div>

    </form>
  </div>
</div>
